<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Json - Documentation</title>
    <!-- <meta name="description" content="TODO populate this based on the module's description"> -->
    <meta name="viewport" content="width=device-width">
    <script type="text/javascript" src="/search.js" defer></script>
    <link rel="icon" href="/favicon.svg">
    <link rel="stylesheet" href="/styles.css">
    <link rel="prefetch" href="/Json"/>
</head>

<body>
<nav id="sidebar-nav">
    <input id="module-search" aria-labelledby="search-link" type="text" placeholder="Search" />
    <label for="module-search" id="search-link"><span id="search-link-text">Search</span> <span id="search-link-hint">(press <span id="search-shortcut-key">s</span>)</span></label>
    <div class="module-links">
        <div class="sidebar-entry" ><a class="sidebar-module-link" href="/Json" >Json</a><div class="sidebar-sub-entries" ><a href="/Json#Json" >Json</a></div></div>
    </div>
</nav>
<div class="top-header-extension">
    <!-- if the window gets big, this extends the purple bar on the top header to the left edge of the window -->
</div>
<header class="top-header">
    <div class="pkg-and-logo">
        <a class="logo" href="/" aria-labelledby="logo-link">
            <svg viewBox="0 -6 51 58" fill="none" xmlns="http://www.w3.org/2000/svg" aria-labelledby="logo-link" role="img">
                <title id="logo-link">Return to Roc packages</title>
                <polygon role="presentation" points="0,0 23.8834,3.21052 37.2438,19.0101 45.9665,16.6324 50.5,22 45,22 44.0315,26.3689 26.4673,39.3424 27.4527,45.2132 17.655,53 23.6751,22.7086" />
            </svg>
        </a>
        <h1 class="pkg-full-name" ><a href="/Documentation" >Documentation</a></h1><a class="version" href="//Documentation/" ></a>
    </div>
    <div class="top-header-triangle">
        <!-- if the window gets big, this extends the purple bar on the top header to the left edge of the window -->
    </div>
</header>
<main>
    <h2 class="module-name" ><a href="/#" >Json</a></h2><p>JSON is a data format that is easy for humans to read and write. It is
commonly used to exhange data between two systems such as a server and a
client (e.g. web browser).</p>
<p>This module implements functionality to serialise and de-serialise Roc types
to and from JSON data. Using the <code><span class="upperident">Encode</span></code> and <code><span class="upperident">Decode</span></code> builtins this process
can be achieved without the need to write custom encoder and decoder functions
to parse UTF-8 strings.</p>
<p>Here is a basic example which shows how to parse a JSON record into a Roc
type named <code><span class="upperident">Language</span></code> which includes a <code><span class="lowerident">name</span></code> field. The JSON string is
decoded and then the field is encoded back into a UTF-8 string.</p>
<pre><samp><span class="upperident">Language</span><span class="kw"> :</span><span class="delimeter"> {</span><span class="lowerident">
    name</span><span class="kw"> :</span><span class="upperident"> Str</span><span class="delimeter">,</span><span class="delimeter">
}</span><span class="lowerident">

jsonStr</span><span class="kw"> =</span><span class="upperident"> Str</span><span class="delimeter">.</span><span class="lowerident">toUtf8</span><span class="literal"> "{\"name\":\"Röc Lang\"}"</span><span class="lowerident">

result</span><span class="kw"> :</span><span class="upperident"> Result</span><span class="upperident"> Language</span><span class="lowerident"> _</span><span class="lowerident">
result</span><span class="kw"> =</span><span class="lowerident">
    jsonStr</span><span class="kw">
    |&gt;</span><span class="upperident"> Decode</span><span class="delimeter">.</span><span class="lowerident">fromBytes</span><span class="upperident"> Json</span><span class="delimeter">.</span><span class="lowerident">fromUtf8</span><span class="comment"> # returns `Ok {name : "Röc Lang"}`</span><span class="lowerident">

name</span><span class="kw"> =</span><span class="lowerident">
    decodedValue</span><span class="kw"> &lt;-</span><span class="upperident"> Result</span><span class="delimeter">.</span><span class="lowerident">map</span><span class="lowerident"> result</span><span class="upperident">

    Encode</span><span class="delimeter">.</span><span class="lowerident">toBytes</span><span class="lowerident"> decodedValue</span><span class="delimeter">.</span><span class="lowerident">name</span><span class="upperident"> Json</span><span class="delimeter">.</span><span class="lowerident">toUtf8</span><span class="kw">

expect</span><span class="lowerident"> name</span><span class="op"> ==</span><span class="upperident"> Ok</span><span class="delimeter"> (</span><span class="upperident">Str</span><span class="delimeter">.</span><span class="lowerident">toUtf8</span><span class="literal"> "\"Röc Lang\""</span><span class="delimeter">)</span></samp></pre></code></pre>
<p><strong>Note:</strong> This module is likely to be moved out of the builtins in future.
It is currently located here to facilitate development of the Abilities
language feature and testing. You are welcome to use this module, just note
that it will be moved into a package in a future update.</p>
<section><h3 id="Json" class="entry-name" ><a href="#Json" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="currentColor"><!--!
	Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License -
	https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
	Copyright 2023 Fonticons, Inc. -->
	<path
		d="M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z" />
</svg></a><strong>Json</strong></h3><p>An opaque type with the <code><span class="upperident">EncoderFormatting</span></code> and
<code><span class="upperident">DecoderFormatting</span></code> abilities.</p>
</section>
</main>
<footer>
    <p>Made by people who like to make nice things.</p>
    <p>© 2021</p>
</footer>
</body>

</html>
